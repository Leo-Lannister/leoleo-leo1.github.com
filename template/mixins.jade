mixin make_paginator()
	if pager.has_pre or pager.has_next
		div.clear
		.pager
			+i18n('Pre Page', '上一页', 'zh_cn')
			+i18n('Next Page', '下一页', 'zh_cn')
			+i18n('Already First', '已是第一页', 'zh_cn')
			+i18n('Already Last', '已是最后一页', 'zh_cn')
			if pager.has_pre
				a.pre(href=pager.pre_page_url)='Pre Page'
			else
				span.pre.unavailable='Already First'
			if pager.has_next
				a.next(href=pager.next_page_url)='Next Page'
			else
				span.next.unavailable='Already Last'


mixin make_posts_list(_posts=None)
	if _posts
		posts = _posts
	.posts
		for post in posts
			.post
				h2.title
					a(href=post.url, title=post.title)= post.title
				.info
					i.fa.fa-calendar &nbsp;
					span.date= post.date.format('%Y.%m.%d')+' '
					|
					span.visitors
						i.fa.fa-book &nbsp;
						| {{post.visits}}&nbsp;|

					path_parts = post.path.split('/')
					if post.category.parents
						category_path = post.category.parents[-1].title
					else
						category_path = post.category.title
					span.category
						i.fa.fa-list &nbsp;
						a(href="/category/{{category_path}}")= category_path
						|
					if post.tags
						span.tags
							i.fa.fa-tags &nbsp;
							for tag in post.tags
								a(href="/tag/{{tag}}")= tag
	+make_paginator()